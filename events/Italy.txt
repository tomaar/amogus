add_namespace = italy
add_namespace = italy_assassination
add_namespace = italy_internal_reform

country_event = { # Death of Napoleon V
	id = italy_assassination.1
	title = italy_assassination.1.t
	desc = italy_assassination.1.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = {
				id = italy_assassination.4
				days = 7
			}
			country_event = {
				id = italy_assassination.2
				days = 14
			}
			
			retire_country_leader = yes
			add_country_leader_role = {
				character = ITA_napoleon_VI
				promote_leader = yes
				country_leader = {
					ideology = buonapartism
				}
			}
			unlock_national_focus = ITA_emperors_new_year_address
		}
	}

	option = { # Napoleon VI
		name = italy_assassination.1.a
		
		effect_tooltip = {
			retire_country_leader = yes
			add_country_leader_role = {
				character = ITA_napoleon_VI
				promote_leader = yes
				country_leader = {
					ideology = buonapartism
				}
			}
			unlock_national_focus = ITA_emperors_new_year_address
		}

		swap_ideas = {
			remove_idea = ITA_political_instability1
			add_idea = ITA_political_instability2
		}

		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		add_stability = -0.3
		add_war_support = 0.1
		set_country_flag = napoleon_V_dead

		load_focus_tree = italy_assassination_aftermath

		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Investigation Authority
	id = italy_assassination.2
	title = italy_assassination.2.t
	desc = italy_assassination.2.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_variable = {
				var = ITA_assassination_arab_unrest
				value = 50
			}
			set_variable = {
				var = ITA_assassination_nationalist_unrest
				value = 50
			}
			set_country_flag = ITA_investigation_started
			activate_decision = ITA_emperors_assassination_investigation_ticker
		}
	}

	option = { # Italians
		name = italy_assassination.2.a

		custom_effect_tooltip = ITA_take_over_the_investigation
		unlock_decision_category_tooltip = ITA_emperors_assassination_investigation
		set_country_flag = italy_leading_the_investigation

		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.05
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		unlock_national_focus = ITA_begin_investigation

		ai_chance =
		{
			factor = 100
		}
	}
	option = { # Leave it to Egypt
		name = italy_assassination.2.b

		custom_effect_tooltip = ITA_leave_the_investigation_to_egypt
		unlock_decision_category_tooltip = ITA_emperors_assassination_investigation

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		unlock_national_focus = ITA_begin_investigation

		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # New Year's Address, should never trigger
	id = italy_assassination.3
	title = italy_assassination.3.t
	desc = italy_assassination.3.d


	is_triggered_only = yes

	option = { # :eyes:
		name = italy_assassination.3.a
	}
}

country_event = { # Killers in Egypt
	id = italy_assassination.4
	title = italy_assassination.4.t
	desc = italy_assassination.4.d

	is_triggered_only = yes

	option = {
		name = italy_assassination.4.a
		
		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Nationalist Coup Ending
	id = italy_assassination.5
	title = italy_assassination.5.t
	desc = italy_assassination.5.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			italy_end_of_investigation = yes
		}
	}
	
	option = {
		name = italy_assassination.5.a
		
		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # War on Terror Ending
	id = italy_assassination.6
	title = italy_assassination.6.t
	desc = italy_assassination.6.d

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			italy_end_of_investigation = yes
		}
	}

	option = {
		name = italy_assassination.6.a
		
		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Secret??? Ending
	id = italy_assassination.7
	title = italy_assassination.7.t
	desc = italy_assassination.7.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			italy_end_of_investigation = yes
		}
	}

	option = {
		name = italy_assassination.7.a
		
		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Budget overview
	id = italy_internal_reform.1
	title = italy_internal_reform.1.t
	desc = italy_internal_reform.1.d

	is_triggered_only = yes

	option = {
		name = italy_internal_reform.1.a
		
		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Invest in Italy
	id = italy_internal_reform.2
	title = italy_internal_reform.2.t
	desc = italy_internal_reform.2.d

	is_triggered_only = yes

	option = { # North
		name = italy_internal_reform.2.a
		
		158 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		159 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		160 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}

		ai_chance =
		{
			factor = 100
		}
	}

	option = { # South
		name = italy_internal_reform.2.b
		
		115 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		117 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		849 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		2 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}

		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Army overview
	id = italy_internal_reform.3
	title = italy_internal_reform.3.t
	desc = italy_internal_reform.3.d

	is_triggered_only = yes

	option = {
		name = italy_internal_reform.3.a
		
		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Navy and airforce overview
	id = italy_internal_reform.4
	title = italy_internal_reform.4.t
	desc = italy_internal_reform.4.d

	is_triggered_only = yes

	option = {
		name = italy_internal_reform.4.a
		
		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Invest in the Colonies
	id = italy_internal_reform.5
	title = italy_internal_reform.5.t
	desc = italy_internal_reform.5.d

	is_triggered_only = yes

	option = { # Focus on Egypt
		name = italy_internal_reform.5.a
		
		EGY = {
			447 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			907 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		ai_chance =
		{
			factor = 100
		}
	}

	option = { # Focus on not Egypt
		name = italy_internal_reform.5.b
		
		EGY = {
			447 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		LBA = {
			448 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		AOI = {
			271 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			268 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Maneuvers
	id = italy_internal_reform.6
	title = italy_internal_reform.6.t
	desc = italy_internal_reform.6.d

	is_triggered_only = yes

	option = {
		name = italy_internal_reform.6.a
		
		ai_chance =
		{
			factor = 100
		}
	}
}

country_event = { # Changes in the administration
	id = italy_internal_reform.7
	title = italy_internal_reform.7.t
	desc = italy_internal_reform.7.d

	is_triggered_only = yes

	option = {
		name = italy_internal_reform.7.a
		
		ai_chance =
		{
			factor = 100
		}
	}
}

